<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui">

     <h:head>
		<title>Window title</title>
     </h:head>
     <h:body>
		<ui:composition template="/templates/mainLayout.xhtml">
			<ui:define name="windowTitle">
				#{msgs.timesheet}
			</ui:define>
			
			<ui:define name="content">
				<h:outputText value="#{msgs.loginmsg}" rendered="#{not login.loggedIn}"/>
				
				<h:form rendered="#{login.loggedIn}">
				
				<h:panelGrid columns="4" cellpadding="10">
				        <p:outputLabel value="#{msgs.empNo}: "/>
				        <p:outputLabel value="#{employeeDetails.currentEmployee.empNumber}"/>
				        <p:outputLabel value="#{msgs.empName}: "/>
				        <p:outputLabel value="#{employeeDetails.currentEmployee.name}"/>
			    	</h:panelGrid>
				
				<p:dataTable var="list" value="#{timesheetDetails.getTimesheets(employeeDetails.currentEmployee)}" >
					<p:column headerText="Week" width="200">
						<h:panelGrid columns="1" cellpadding="10">
					        <p:outputLabel value="Week number: "/>
					        <p:outputLabel value="#{list.weekNumber}"/>
					        <p:outputLabel value="Week ending: "/>
					        <p:outputLabel value="#{list.weekEnding}"/>
				    	</h:panelGrid>
			    	</p:column>
			    	<p:column headerText="Data">
					<p:dataTable var="dt" value="#{list.details}" >
						<p:column>
							<f:facet name="header">#{msgs.project}</f:facet>
							<h:outputText value="#{dt.projectID}" />
						</p:column>
						<p:column>
							<f:facet name="header">#{msgs.workpackage}</f:facet>
							<h:outputText value="#{dt.workPackage}" />
						</p:column>
						<p:column>
							<f:facet name="header">#{msgs.sat}</f:facet>
							<h:outputText value="#{dt.hoursForWeek[0]}" />
						</p:column>
						<p:column>
							<f:facet name="header">#{msgs.sun}</f:facet>
							<h:outputText value="#{dt.hoursForWeek[1]}" />
						</p:column>
						<p:column>
							<f:facet name="header">#{msgs.mon}</f:facet>
							<h:outputText value="#{dt.hoursForWeek[2]}" />
						</p:column>
						<p:column>
							<f:facet name="header">#{msgs.tue}</f:facet>
							<h:outputText value="#{dt.hoursForWeek[3]}" />
						</p:column>
						<p:column>
							<f:facet name="header">#{msgs.wed}</f:facet>
							<h:outputText value="#{dt.hoursForWeek[4]}" />
						</p:column>
						<p:column>
							<f:facet name="header">#{msgs.thu}</f:facet>
							<h:outputText value="#{dt.hoursForWeek[5]}" />
						</p:column>
						<p:column>
							<f:facet name="header">#{msgs.fri}</f:facet>
							<h:outputText value="#{dt.hoursForWeek[6]}" />
						</p:column>
						<p:column>
							<f:facet name="header">#{msgs.notes}</f:facet>
							<h:outputText value="#{dt.notes}" />
						</p:column>
					</p:dataTable>
					</p:column>
				</p:dataTable>
					
				</h:form>
			</ui:define>
			
		</ui:composition>
     </h:body>
</html>